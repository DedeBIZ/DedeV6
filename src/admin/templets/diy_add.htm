<!DOCTYPE html>
<html>
<head>
  <meta charset="<?php echo $cfg_soft_lang; ?>">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <title>新增自定义表单</title>
  <link rel="stylesheet" href="../static/web/css/bootstrap.min.css">
  <link rel="stylesheet" href="../static/web/font/css/font-awesome.min.css">
  <link rel="stylesheet" href="../static/web/css/admin.css">
  <script src="../static/web/js/jquery.min.js"></script>
  <script src="../static/web/js/bootstrap.bundle.min.js"></script>
  <script src="js/main.js"></script>
  <script src="js/diy.js"></script>
  <style>
    .style1 {
      color: #dc3545
    }
    .style2 {
      color: #545b62;
      display: none;
    }
  </style>
  <script>
    function checkSubmit() {
      if (document.form1.name.value == '') {
        ShowMsg("自定义表单名称不能为空");
        return false;
      }
      return true;
    }
  </script>
</head>
<body>
  <table width="98%" cellpadding="1" cellspacing="1" align="center" class="table maintable mt-3 mb-3">
    <form name="form1" action="diy_add.php?action=add" method="post" onSubmit="return checkSubmit();">
      <tr>
        <td bgcolor="#f8f8f8" colspan="2"><a href="diy_main.php">自定义表单管理</a> &gt; 新增自定义表单</td>
      </tr>
      <tr>
        <td width="260" align="left">diyid：<span class="style2" id="help1">数字，创建后不可修改，并具有唯一性推荐使用默认值</span></td>
        <td>
          <input type="text" name="diyid" id="diyid" size="10" value="<?php echo $newdiyid?>" class="pubinputs" style='width:60px'> * <i class="fa fa-question-circle" title="帮助" onClick="showHide2('help1')" style="cursor:hand"></i> 
        </td>
      </tr>
      <tr>
        <td align="left">自定义表单名称：<br>
          <span class="style2" id="help3">自定义表单的中文名称，在后台管理，前台发布等均使用此名字</span></td>
        <td>
          <input type="text" name="name" id="name" value="自定义表单<?php echo $newdiyid; ?>" class="pubinputs" style="width:160px"> * <i class="fa fa-question-circle" title="帮助" onClick="showHide2('help3')" style="cursor:hand"></i> 
        </td>
      </tr>
      <tr>
        <td align="left">数据表：<br>
          <span class="style2" id="help5">必须由英文、数字、下划线组成，用于保存自定义表单数据，不能和已有表名重复，创建后不可修改表名</span></td>
        <td>
          <input type="text" name="table" id="table" value="<?php echo $cfg_dbprefix; ?>diyform<?php echo $newdiyid; ?>" class="pubinputs" style="width:160px"> * <i class="fa fa-question-circle" title="帮助" onClick="showHide2('help5')" style="cursor:hand"></i> 
        </td>
      </tr>
      <tr>
        <td align="left">字段配置：</td>
        <td><span class="style1">建立自定义表单后在“修改”自定义表单的地方添加字段即可</span></td>
      </tr>
      <tr>
        <td align="left">列表模板：</td>
        <td><input type="text" name="listtemplate" id="listtemplate" value="list_diyform<?php echo $newdiyid; ?>.htm" class="pubinputs" style="width:160px"></td>
      </tr>
      <tr>
        <td align="left">内容模板：</td>
        <td><input type="text" name="viewtemplate" id="viewtemplate" value="view_diyform<?php echo $newdiyid; ?>.htm" class="pubinputs" style="width:160px"></td>
      </tr>
      <tr>
        <td align="left">发布模板：</td>
        <td><input type="text" name="posttemplate" id="posttemplate" value="post_diyform<?php echo $newdiyid; ?>.htm" class="pubinputs" style="width:160px"></td>
      </tr>
      <tr>
        <td align="left">前台列表和内容页公开：</td>
        <td>
          <label><input type="radio" name="public" value="2"> 完全公开</label>
          <label><input type="radio" name="public" value="1" checked="1"> 公开审核过的</label>
          <label><input type="radio" name="public" value="0"> 不公开</label>
        </td>
      </tr>
      <tr>
        <td bgcolor="#f8f8f8" colspan="2" align="center" class="py-2">
          <button type="submit" name="button" id="button" class="btn btn-success btn-sm">保存</button>
          <button type="button" class="btn btn-success btn-sm" id="button2" onclick="location='diy_main.php';">返回</button>
        </td>
      </tr>
    </form>
  </table>
</body>
</html>