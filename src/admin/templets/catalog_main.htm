<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
		<title><?php echo Lang('catalog_main');?></title>
		<link rel="stylesheet" href="../static/web/css/bootstrap.min.css">
		<link rel="stylesheet" href="../static/web/font/css/font-awesome.min.css">
		<link rel="stylesheet" href="../static/web/css/admin.min.css">
		<?php include_once(DEDEADMIN.'/templets/_widget_lang.htm');?>
		<script src="js/global.js"></script>
		<script src="js/ieemu.js"></script>
		<script src="js/dialog.js"></script>
		<script src="../static/web/js/webajax.js"></script>
		<style>
			td,th {
				padding: .375rem
			}
			.bline2,.nbline {
				border-bottom: 1px solid #dee2e6
			}
			.coolbg2,.coolbt2,.maintable {
				border: 1px solid #dee2e6
			}
			.fa {
				color: #545b62
			}
		</style>
		<script>
			function LoadSuns(ctid, tid) {
				if ($DE(ctid).innerHTML.length < 10) {
					$DE('img' + tid).className = 'fa fa-minus-square-o';
					fetch('catalog_do.php?dopost=GetSunLists&cid=' + tid).then(resp => resp.text()).then((d) => {
						$DE(ctid).innerHTML = d;
					});
				} else {
					showHide(ctid, tid);
				}
			}
			function showHide(objname, tid) {
				if ($DE(objname).style.display == "none") {
					$DE('img' + tid).className = 'fa fa-minus-square-o';
					$DE(objname).style.display = BROWSER.firefox ? "" : "block";
				} else {
					$DE('img' + tid).className = 'fa fa-plus-square-o';
					$DE(objname).style.display = "none";
				}
			}
			if (moz) {
				extendEventObject();
				extendElementModel();
				emulateAttachEvent();
			}
		</script>
	</head>
	<body>
		<table width="98%" align="center" cellpadding="3" cellspacing="1" class="maintable mt-3 mb-3">
			<tr>
				<td style="background:#f8f8f8;border-bottom:1px solid #dee2e6">
					<table width="100%" cellspacing="0" cellpadding="0">
						<tr>
							<td><?php echo Lang('site_catalog_main');?></td>
							<td align="right">
								<a href="catalog_add.php?listtype=all" class="btn btn-success btn-sm"><?php echo Lang('catalog_top_add');?></a>
								<a href="catalog_add.php?dopost=quick" class="btn btn-success btn-sm"><?php echo Lang('catalog_quick_add');?></a>
								<a href="catalog_do.php?dopost=upcatcache" class="btn btn-success btn-sm"><?php echo Lang('catalog_update_cache');?></a>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
				<td>
					<table width="100%" cellspacing="0" cellpadding="0">
						<tr>
							<td>
								<?php if (!isset($exallct)) {?>
								<a href="catalog_main.php?exallct=all" class="btn btn-success btn-sm"><?php echo Lang('catalog_exall');?></a>
								<?php } else {?>
								<a href="catalog_main.php" class="btn btn-success btn-sm"><?php echo Lang('catalog_disexall');?></a>
								<?php }?>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<form name="form1" method="post" action="catalog_do.php?dopost=upRankAll">
				<tr>
					<td>
						<?php
						if (empty($opendir)) $opendir=-1;
						if ($userChannel>0) $opendir=$userChannel;
						$tu = new DedeBIZ\TypeLink\TypeUnitAdmin();
						$tu->ListAllType($userChannel,$opendir);
						?>
					</td>
				</tr>
			</form>
			<tr>
				<td align="right" class="py-2" style="padding-right:10px;background:#f8f8f8;border-top:1px solid #dee2e6">
					<button type="button" name="sb2" class="btn btn-success btn-sm" onClick="location='makehtml_list.php';"><?php echo Lang('makehtml_list');?></button>
					<button type="button" name="sb3" class="btn btn-success btn-sm" onClick="location='makehtml_archives.php';"><?php echo Lang('makehtml_archives');?></button>
					<button type="button" name="sb1" class="btn btn-success btn-sm" onClick="document.form1.submit();"><?php echo Lang('catalog_update_sortrank');?></button>
				</td>
			</tr>
		</table>
	</body>
</html>