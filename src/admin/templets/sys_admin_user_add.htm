<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
		<title>添加管理员</title>
		<link rel="stylesheet" href="../static/web/font/css/font-awesome.min.css">
		<link rel="stylesheet" href="../static/web/css/bootstrap.min.css">
		<link rel="stylesheet" href="../static/web/css/admin.css">
		<script src="../static/web/js/jquery.min.js"></script>
		<script src="../static/web/js/bootstrap.min.js"></script>
		<script src="js/main.js"></script>
		<script>
			function checkSubmit() {
				if (document.form1.userid.value == "") {
					ShowMsg("用户id不能为空");
					document.form1.userid.focus();
					return false;
				}
				if (document.form1.uname.value == "") {
					ShowMsg("用户名不能为空");
					document.form1.uname.focus();
					return false;
				}
				if (document.form1.pwd.value == "") {
					ShowMsg("用户密码不能为空");
					document.form1.pwd.focus();
					return false;
				}
				return true;
			}
		</script>
	</head>
	<body>
		<table cellpadding="3" cellspacing="1" align="center" class="table maintable my-3">
			<tr>
				<td bgcolor="#f5f5f5" colspan="2">
					<table cellspacing="1" cellpadding="1" class="table table-borderless w-100">
						<tr>
							<td width="30%">添加管理员</td>
							<td width="70%" align="right"><a href="sys_admin_user.php" class="btn btn-success btn-sm">管理帐号</a></td>
						</tr>
					</table>
				</td>
			</tr>
			<form name="form1" action="sys_admin_user_add.php" onSubmit="return checkSubmit();" method="post">
				<input type="hidden" name="_csrf_token" value="<?php echo $GLOBALS['csrf_token'];?>">
				<input type="hidden" name="dopost" value="add">
				<tr>
					<td width="260" class="admin-td">用户登录id：</td>
					<td><input type="text" name="userid" id="userid" class="admin-input-sm">（只能用[0-9a-zA-Z_@!.-]以内范围的字符）</td>
				</tr>
				<tr>
					<td class="admin-td">用户名称：</td>
					<td><input type="text" name="uname" id="uname" class="admin-input-sm">（发布文档后显示作者的名字）</td>
				</tr>
				<tr>
					<td class="admin-td">用户密码：</td>
					<td><input type="text" name="pwd" id="pwd" class="admin-input-sm">（只能用[0-9a-zA-Z_@!.-]以内范围的字符）</td>
				</tr>
				<tr>
					<td class="admin-td">用户组：</td>
					<td class="admin-td">
						<select name="usertype" class="admin-input-sm">
							<?php
							$dsql->SetQuery("SELECT * FROM `#@__admintype` order by `rank` asc");
							$dsql->Execute("ut");
							while($myrow = $dsql->GetObject("ut"))
							{
								echo "<option value='".$myrow->rank."'>".$myrow->typename."</option>";
							}
							?>
						</select>
						<a href="sys_group.php" class="btn btn-success btn-sm">用户组设置</a>
					</td>
				</tr>
				<tr>
					<td class="admin-td">授权栏目：</td>
					<td class="admin-td">
						<select name="typeids[]" id="typeid" multiple="true" class="admin-input-md" style="height:200px">
							<option value="0" class="alltype" selected>所有栏目</option>
							<?php echo $typeOptions?>
						</select>（按Ctrl可以进行多选）
					</td>
				</tr>
				<tr>
					<td class="admin-td">真实姓名：</td>
					<td class="admin-td"><input type="text" name="tname" id="tname" class="admin-input-sm"></td>
				</tr>
				<tr>
					<td class="admin-td">邮箱：</td>
					<td class="admin-td"><input type="text" name="email" id="email" class="admin-input-sm"></td>
				</tr>
				<tr>
					<td class="admin-td">验证安全码：</td>
					<td class="admin-td">
						<input type="text" name="safecode" id="safecode" class="admin-input-sm">
						<input type="hidden" name="randcode" value="<?php echo $randcode;?>">（安全码：<span class="text-primary"><?php echo $safecode;?></span>）
					</td>
				</tr>
				<tr>
					<td bgcolor="#f5f5f5" colspan="2" align="center"><button type="submit" class="btn btn-success btn-sm">保存</button></td>
				</tr>
			</form>
		</table>
	</body>
</html>